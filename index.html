<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/libs.min.css">
    <link rel="stylesheet" href="css/style.min.css">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <section class="lesson__1">
            <h2>Урок 1</h2>
            <h3>Упражнения по блок схемам</h3>
            <p>1</p>
            <img src="img/lesson1/1.svg" alt="">
            <p>2</p>
            <img src="img/lesson1/2.svg" alt="">
            <p>3</p>
            <img src="img/lesson1/3.svg" alt="">

            <h3>Задание 1</h3>
            <img src="img/lesson1/block 1.svg" alt="">

            <h3>Задание 2</h3>
            <img src="img/lesson1/block 2.svg" alt="">

            <h3>Задание 3</h3>
            <pre>
        var numbers = [ 254, 115, 78, 25, 91, 45, 37 ];
        for ( var i = 0;  i < numbers.length;  i++ ) {
            if ( numbers [i] < 50)  continue;
            console.log ( numbers [i] )
        }
            </pre>



            <h2>Урок 2</h2>

            <h3>Самостоятельная работа 1</h3>
            <pre>
                var group = [
    {
        name: "Иван",
        lastName: "Иванов",
        age: 23,
        notebook: false,
    },
    {
        name: "Петр",
        lastName: "Петров",
        age: 24,
        notebook: true,
    },
    {
        name: "Антон",
        lastName: "Антонов",
        age: 24,
        notebook: false,
    }
]

function getStudentsList(arrayOfStudents) {
    for (i = 0; i < arrayOfStudents.length; i++) {
        var a = []
        a.push(Object.values(group[i]))
        b = [a[0].join("|")]
        console.log(b)
    }
}
            </pre>

            <h3>Самостоятельная работа 2</h3>
            <pre>
                function addNewStudent(name, lastName, age, notebook) {
                    a1 = name;
                    a2 = lastName;
                    a3 = age;
                    a4 = notebook;
                    function obj(name1 = a1, lastName1 = a2, age1 = a3, notebook1 = a4) {
                        this.name = name1;
                        this.lastName = lastName1;
                        this.age = age1;
                        this.notebook = notebook1;
                    }
                    var newObj = new obj
                    group.push(newObj)
                }
                addNewStudent("Юрий", "Юрьев", 30, true)
                
                getStudentsList(group)
            </pre>


            <h3>Задание 1</h3>
            <pre>
        var letters = []
            str = "Backend As A Service"
            a=str.split(' ')
        for (i = 0; i < a.length; i++){
                letters.push(a[i].charAt(0))
            }
        console.log(letters)
            </pre>
            <h3>Задание 2</h3>
            <pre>
                function checkDate(cDate){
                    if(Number.isInteger(cDate)){
                        function formatDate(date) {
                
                            var dd = date.getDate();
                            if (dd < 10) dd = '0' + dd;
                          
                            var mm = date.getMonth() + 1;
                            if (mm < 10) mm = '0' + mm;
                          
                            var yy = date.getFullYear();
                            if (yy < 10) yy = '0' + yy;
                        
                            var hh = date.getHours();
                        
                            var min = date.getMinutes();
                            
                            var sec = date.getSeconds();
                            if (sec < 10) sec = '0' + sec;
                
                            return dd + '.' + mm + '.' + yy + ', ' + hh + ':' + min + ':' + sec;
                          }
                          
                          var d = new Date(); 
                          console.log( formatDate(d) );
                    } else{
                        console.log("Неверный тип данных")
                    }
                }
            </pre>

            <h2>Урок 3</h2>
            <h3>Задание 1</h3>
            <pre>
                function testArguments () {
                    var args = Array.from ( arguments );
                    for ( var x of args ) {
                            console.log ( x )
                        };
                    console.log ( arguments.callee );
            }
            
            testArguments ( 10, false, "google" );
            </pre>

            <h3>Задание 2</h3>
            <pre>
            var obj1 = {
                    name: "Иван",
                    registered: true,
                    data: "21.12.2019",
                    getInfo: userInfo,
            };
            var obj2 = {
                    name: "Антон",
                    registered: false,
                    data: "",
                    getInfo: userInfo,
            };
            
            function userInfo(objInfo) {
                    if (objInfo.registered == true) {
                            return "Дата регистрации: " + `${objInfo.data}`
                    } else{
                            return "Незарегистрированный пользователь: " + `${objInfo.name}`
                    }
            };
            
            console.log(obj1.getInfo(obj1));
            </pre>
            <h3>Задание 3</h3>
            <pre>
                var users = [
        {
                userId: 14587,
                name: "Ivan",
                email: "ivan78@gmail.com"
        },
        {
                userId: 28419,
                name: "Georg",
                email: "georg.klep@gmail.com"
        },
        {
                userId: 41457,
                name: "Stephan",
                email: "stephan.borg@gmail.com"
        }
]
var posts = [
        {
                postId: 7891451,
                author: 14587,
                text: "Imagine we can encapsulate these secondary responsibilities in functions"
        },
        {
                postId: 7891452,
                author: 28419,
                text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор. 
                    Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора. 
                    Ключевое слово super также может быть использовано для вызова функций родительского объекта`
        },
        {
                postId: 7891453,
                author: 28419,
                text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое. 
                    Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`
        },
        {
                postId: 7891454,
                author: 14587,
                text: "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта"
        }
]
var comments = [
        {
                commentId: 91078454,
                postId: 7891451,
                author: 28419,
                text: `The static String.fromCharCode() method returns a string created 
                from the specified sequence of UTF-16 code units`
        },
        {
                commentId: 91078455,
                postId: 7891451,
                author: 41457,
                text: `HTML элемент <> — это механизм для отложенного рендера клиентского контента, 
                    который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`
        },
        {
                commentId: 91078457,
                postId: 7891452,
                author: 41457,
                text: "Глобальный объект String является конструктором строк, или, последовательностей символов"
        },
        {
                commentId: 91078458,
                postId: 7891452,
                author: 14587,
                text: `The Element.namespaceURI read-only property returns the namespace URI of the element, 
                    or null if the element is not in a namespace`
        }
]

function getCurrentPostComments(postId) {
        var res = [];
        for (var x in comments) {
                var obj = {
                        author: getCurrentName(comments[x].author),
                        text: comments[x].text
                };
                if (comments[x].postId !== postId) continue
                res.push(obj);
        }
        function getCurrentName(nameId) {
                for (var x in users) {
                        if (users[x].userId !== nameId) continue
                        var nameAuthor = users[x].name;
                }
                return nameAuthor
        }
        return res
}

console.log(getCurrentPostComments(7891451))
            </pre>

        <h2>Урок 4</h2>
        <h3>Задание 1</h3>
        <pre>
var womanBag = [
    'ключи',
    'телефон',
    'помада'
];

womanBag.addNewThing = function (newThing) {
    womanBag.push(newThing);
};

womanBag.delThing = function (delThing) {
    var index = womanBag.indexOf(delThing);
    if (index > -1) {
        womanBag.splice(index, 1);
    }
};
womanBag.addNewThing('пудра');
womanBag.delThing('телефон');
console.log(womanBag);
        </pre>

        <h3>Задание 2</h3>
        <pre>
            function LibraryBook(titleInfo, yearInfo, authorInfo, readerNameInfo, readerDataInfo) {
                var title = titleInfo;
                var year = yearInfo;
                var author = authorInfo;
                var readerName = readerNameInfo;
                var readerData = readerDataInfo;
                
                giveTheBook = function(client){
                    readerName = client;
                    readerData = new Date();
                }
            
                this.getBookInfo = function () {
                    console.log(readerData);
                }
                this.getTheBook = function (client){
                    if (readerName === "") {
                        giveTheBook(client);
                        return console.log(title, year, author);
                    }else{
                        console.log(null);
                    }
                }
                this.returnBook = function (){
                    readerName = "";
                    readerData = "";
                }
            }
            
            var book = new LibraryBook("Война и мир", 1984, "Л.Н. Толстой", "Петров Иван", "21.11.2020");
        </pre>
    
        <h3>Задание 3</h3>
        <pre>
            function NewObj(){

            }
            NewObj.prototype.addProperty = function (name, property){
                this [name] = property 
            }
            var obj = new NewObj()
            obj.addProperty("color", "red")
            
            console.log(obj)
        </pre>

        <h2>Урок 5</h2>
        <h3>Задание 1</h3>
        <p>Вариант решения 1 самый простой рабочий, но с ошибкой что testFunc не функция</p> 
        <pre>
            function sampleFunc () {
                console.log ( `${arguments.callee.name}: ${arguments[0]} | ${arguments[1]}` )
            };
            
            function modificator ( func ) {
               func('test', 'sample');
            };
            
            testFunc = modificator( sampleFunc );
            
            testFunc();
        </pre>
        <p>Вариант решения 2 с bind, но с ошибкой что testFunc не функция</p>
        <pre>
            function sampleFunc () {
                console.log ( `${arguments.callee.name}: ${arguments[0]} | ${arguments[1]}` )
            };
            
            function modificator ( func ) {
                func.bind (func, 'test', 'sample')();
            };
            
            testFunc = modificator( sampleFunc );
            
            testFunc();
        </pre>

        <p>Вариант решения 3 с исправлением ошибки что testFunc не функция, коректируя условие задачи</p>
        <pre>
            function sampleFunc () {
                console.log ( `${arguments.callee.name}: ${arguments[0]} | ${arguments[1]}` )
            };
            
            function modificator ( func ) {
                func.bind (func, 'test', 'sample')();
            };
            
            function testFunc (){
               modificator( sampleFunc ); 
            } 
            
            testFunc();
        </pre>

        <h3>Задание 2</h3>
        <pre>
            function sampleFunc (){
                console.info ( `Symbols in my code: ${arguments.callee + 0}`)
            };
            
            function modificator ( func ) {
                    console.log (`Symbols in my code: ${func.toString().length}`);
            };
            
            modificator( sampleFunc );
            
        </pre>

        <h3>Задание 3</h3>
        <pre>
            function testArguments() {
                function generateError(numArgs) {
                   var err = new Error ('Invalid arguments');
                    err.name = "Application";
                    err.stack = `Function needs 3 arguments, but only ${numArgs} present`;
                    throw err;
                }
                try {
                    arguments.length >= 3 ? null : generateError(arguments.length);
                }
                catch (err) {
                    console.error(`${err.name}: ${err.message}\n${err.stack}`);
                }
            }
            testArguments("Google");
            
        </pre>

        <h2>Урок 6</h2>
        <h3>Задание 1</h3>
        <pre>
            var tags = ['div', 'img', 'p', 'a'];
var classes = ['class__div', 'class__img', 'class__p', 'class__a'];
var style = document.createElement('style');
document.head.appendChild(style);
style.innerText = `.class__div{text-align: center;} .class__img{width: 100px; height: 100px;} .class__p{color: red;} .class__a{text-transform: uppercase;}`;

for (i = 0; i < tags.length; i++) {
    var newEl = document.createElement(tags[i]);
    document.body.appendChild(newEl);
    newEl.setAttribute('class', classes[i]);
}
        </pre>

        <h3>Задание 2</h3>
        <pre>
            var style = document.createElement('style');
document.head.appendChild(style);
style.innerText = `.class__div{text-align: center;} .class__p{color: red;} .class__a{text-transform: uppercase;}`;

var tags = [
    {
        tag: 'div',
        class: 'class__div',
        content: "text",
        event: function (event) {
            this.style.backgroundColor = "red";
        }
    },
    {
        tag: 'p',
        class: 'class__p',
        content: "text2",
        event: function (event) {
            this.style.backgroundColor = "green";
        }
    },
    {
        tag: 'a',
        class: 'class__a',
        content: "link",
        event: function (event) {
            this.style.backgroundColor = "blue";
        }
    }
];
for (i = 0; i < tags.length; i++) {
    var newEl = document.createElement(tags[i]['tag']);
    document.body.appendChild(newEl);
    newEl.setAttribute('class', tags[i]['class']);
    newEl.innerText = tags[i]['content'];
    newEl.onclick = tags[i]['event'];
}
        </pre>

        <h3>Задание 3</h3>
        <pre>
            var style = document.createElement('style');
document.head.appendChild(style);
style.innerText = `.redBack {background-color: red!important;}`;

var tags = document.body.getElementsByTagName('*');

for (i = 0; i < tags.length; i++) {
        if (tags[i].nodeName !== 'SCRIPT') {
                tags[i].classList.add('redBack');
        };
};
        </pre>

        <h2>Урок 7</h2>
        <h3>Задание 1</h3>
        <pre>
            var par = document.body.appendChild(document.createElement('p'));
par.textContent = 'text';
var picture = document.body.appendChild(document.createElement('img'));
picture.style.transition = 'all 0.5s';
picture.style.width = '100px';
picture.style.opacity = '0';
picture.src = 'https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg';

par.addEventListener('click', function (event) {
        picture.style.opacity = "1";
});

picture.addEventListener ('mouseenter', function (event) {
        this.style.width = "200px";
});

picture.addEventListener('mouseleave', function (event) {
        this.style.width = "100px";
});

picture.addEventListener('click', function (event) {
        this.style.opacity = "0";
});
        </pre>
        <h3>Задание 2</h3>
        <pre>
        };
        function insertElement(elemNum, parentElem) {
            var elem = parentElem.appendChild(document.createElement(elemNew.name));
            elem.setAttribute('style', elemNew.style);
            elem.style.width = (400 - elemNum * 50) + "px";
            elem.style.height = (400 - elemNum * 50) + "px";
            elem.addEventListener('mouseover', over);
            elem.addEventListener('mouseout', out);
            elem.addEventListener('click', clickHandler);
        
            return elem;
        }
        collection[0] = insertElement(0, document.body);
        for (var x = 1; x < 4; x++) {
            collection[x] = insertElement(x, collection[x - 1]);
        };
        
        function over ( event ) {
            this.style.backgroundColor = "#ffff0050";
            event.stopPropagation();
        };
        function out ( event ) {
            this.style.backgroundColor = "#ff00ff50";
        };
        function clickHandler ( event ) {
            this.remove();
            event.stopPropagation();
        };
        
        [ "first", "second", "third", "fourth" ].forEach (
            function ( tag, index, arr  ) {
                    collection[index].setAttribute('title', tag);
            };
        )
        </pre>
        <h3>Задание 3</h3>
        <pre>
            var collection = [];

var elemNew = {
    name: 'div',
    style: `
            border: dotted 1px yellow;
            background-color: #ff00ff50;
            `
};
function insertElement(elemNum, parentElem) {
    var elem = parentElem.appendChild(document.createElement(elemNew.name));
    elem.setAttribute('style', elemNew.style);
    elem.style.width = (400 - elemNum * 50) + "px";
    elem.style.height = (400 - elemNum * 50) + "px";
    elem.addEventListener('mouseover', enter);
    elem.addEventListener('mouseout', leave);
    elem.addEventListener('click', clickHandler);

    return elem;
}
collection[0] = insertElement(0, document.body);
for (var x = 1; x < 7; x++) {
    collection[x] = insertElement(x, collection[x - 1]);
};

function enter(event) {
    this.style.backgroundColor = "#ffff0050";
    event.stopPropagation();
};
function leave(event) {
    this.style.backgroundColor = "#ff00ff50";
};
function clickHandler(event) {
    event.stopPropagation();
    var el = event.target;
    var elChildren = event.target.children;
    [...elChildren].forEach(
        function(element){
        event.target.parentElement.insertAdjacentElement('beforeEnd', element);
    });
    el.remove();
};

[ 1, 2, 3, 4, 5, 6, 7 ].forEach(
    function (tag, index, arr) {
        collection[index].setAttribute('title', tag);
    }
);
        </pre>

        <h2>Урок 8</h2>
        <h3>Задание 1</h3>
        <pre>
            var par = document.createElement('p');
var addPar = document.body.appendChild(par);
var stopFunc = true;

function showTime() {
    if (!stopFunc) return false;
    var date = new Date();
    var hours = (date.getHours() < 10) ? '0' + date.getHours() : date.getHours();
    var minutes = (date.getMinutes() < 10) ? '0' + date.getMinutes() : date.getMinutes();
    var seconds = (date.getSeconds() < 10) ? '0' + date.getSeconds() : date.getSeconds();
    document.querySelector('p').innerHTML = hours + ':' + minutes + ':' + seconds;
};

function stopTime() {
    document.body.removeChild(par)
    stopFunc = false;
};
showTime();
setInterval(showTime, 1000);
setTimeout(stopTime, 100000);
        </pre>
        <h3>Задание 2</h3>
        <pre>
            var typeMessage = (function (velocity) {
                let container = document.getElementById("demo") ?
                    document.getElementById("demo") :
                    document.body.appendChild(
                        document.createElement("h3")
                    )
                container.style = `color: magenta;`
                var index = 0
                return function (message) {
                    var arr = message.split('')       
                    function showText() {
                        index++
                        var letter = arr.shift()
                        document.querySelector('h3').innerHTML += letter;
                        if(index === message.length){
                            clearInterval(int)
                        }
                    }
                    var speed = velocity.toString() + '000';
                    var int = setInterval(showText, Number(speed));
                }
            })(1)
            
            typeMessage(`Welcome to the hell`)
        </pre>
        <h3>Задание 3</h3>
        <pre>
            function User(name) {
                this.counter = count;
                this.name = name;
                this.id = this.counter();
            }
            
            var count = function () {
                var counter = 0;
                return function () {
                    if (this.id === undefined) {
                        counter++;
                    } else {
                        return this.id;
                    }
                    return counter;
                };
            }();
            
            var users = [
                new User("Семен"),
                new User("Антон"),
                new User("Демьян"),
                new User("Василий")
            ];
            
            console.log(users);
            users[1].id = users[1].counter();
                        
        </pre>
        <h2>Урок 9</h2>
        <h3>Задание 1</h3>
        <pre>
            function typeMessage(message, velocity) {
                var container = document.getElementById("demo") ?
                    document.getElementById("demo") :
                    document.body.appendChild(
                        document.createElement("h3")
                    )
                container.style = `color: magenta;`;
                var arr = message.split('');
                var index = 0;
            
                function showText() {
                    index++
                    var letter = arr.shift()
                    document.querySelector('h3').innerHTML += letter;
                    if (index === message.length) {
                        clearInterval(int)
                    }
                }
                var speed = velocity.toString() + '000';
                var int = setInterval(showText, Number(speed));
            }
            
            typeMessage(`Welcome to the hell`, 1)
        </pre>
        <h3>Задание 2</h3>
        <pre>
            var users = (
    function (list) {
        var users = []
        for (var user of list)
            users.push({
                name: user,
                present: false
            })
        return {
            setUserPresent(userName, present) {
                users.map(function (currentValue, index) {
                    if (users[index].name === userName) {
                        users[index].present = present
                    }
                })
            },
            showPresent() {
                users.forEach(function (currentValue, index) {
                    if (users[index].present !== false)
                        console.log(users[index].name)
                })
            },
            showAbsent() {
                users.forEach(function (currentValue, index) {
                    if (users[index].present === false)
                        console.log(users[index].name)
                })
            }
        }
    }
)(["Иван", "Дмитрий", "Степан", "Михаил"])

users.showAbsent()

users.setUserPresent("Иван", "+")
users.setUserPresent("Михаил", "присутствовал")
users.setUserPresent("Степан", true)

users.showPresent()
        </pre>
        <h3>Задание 3</h3>
        <pre>
            let changeClass = ( classname, styleString ) => ( Array.from ( document.styleSheets )
    .filter ( sheet => !sheet.href )
        .map (
            sheet => Array.from ( sheet.cssRules )
                    .filter ( rule => rule.selectorText === `.{classname}` )
        )
           .filter ( item => item.length > 0 )
               .map ( item => item[0].cssText.split ("}")
                           .join ( `${styleString}}` )
               )
).length > 0 ? console.log ( "found" ) : 
    document.head.appendChild (
        document.createElement ( "style" )
    ).textContent = `.${classname} {${styleString}}`

     changeClass ( "second-level-menu", "background-color: red!important;" )
        </pre>
        <h2>Урок 10</h2>
        <h3>Задание 1</h3>
        <pre>
            let messages = [
    "backspace",
    "enter",
    "shift",
    "control",
    "delete",
    "space",
    "subtract"
];

var log = {};

var sendMessage = (message, callback) =>
    setTimeout(
        () => callback(message),
        Math.random() * 7000
    );

var getKey = () => {
    let key = new Date().toLocaleTimeString(), x = 0
    while (log[`${key}[${x}]`]) { x++ }
    return `${key}[${x}]`
};
var handler = function (message) {
    Object.defineProperty(log, getKey(), {
        value: message,
        enumerable: true
    })
};
messages.forEach(
    message => sendMessage(message, handler)
);

console.log(log);

        </pre>
        <h3>Задание 2</h3>
        <pre>
            function User(name) {
                this.name = name
                var presence = false
                Object.defineProperty(this, 'presence', {
                    get() {
                        if (presence === false) {
                            return `${this.name} is absent`
                        } else {
                            return `${this.name} is present`
                        }
                    },
                    set(velue) {
                        presence = velue;
                    }
                })
            }
            
            let user = new User("Ivan");
            user.presence = "+";
            console.info(user.presence);
        </pre>
        <h3>Задание 3</h3>
        <pre>
            function User(name = 'name', email = 'email', photoURL = User.getAvatar()) {
                this.name = name
                this.email = email
                this.photoURL = photoURL
            }
            User.avatars = [
                "https://cdn4.iconfinder.com/data/icons/user-avatar-flat-icons/512/User_Avatar-31-512.png",
                "http://icons.iconarchive.com/icons/hopstarter/face-avatars/256/Male-Face-L3-icon.png",
                "https://findicons.com/files/icons/1072/face_avatars/300/i05.png",
                "http://www.iconarchive.com/download/i51043/hopstarter/halloween-avatars/Gomez.ico",
                "http://icons.iconarchive.com/icons/hopstarter/halloween-avatars/256/Zombie-2-icon.png",
                "https://vignette.wikia.nocookie.net/yogscast/images/8/8a/Avatar_Turps_2015.jpg"
            ];
            User.admin = {
                photoURL: "https://i.pinimg.com/originals/3d/47/4f/3d474f82ff71595e8081f9a120892ae8.gif",
                name: "admin"
            }
            
            User.getAvatar = function () {
                return this.avatars.shift()
            }
            User.prototype.messageBox = (function () {
                var wrapper = document.createElement('div');
                document.body.appendChild(wrapper);
                wrapper.style = `
                width: 300px;
                height: 200px;
                background-color: black;
                padding: 10px;
                overflow: auto;
                `
                wrapper.ava = wrapper.appendChild(document.createElement('img'));
                wrapper.ava.style = `
                width: 40px;
                height: 40px;
                background-color: #fff;
                `
                wrapper.name = wrapper.appendChild(document.createElement('span'));
                wrapper.name.style = `
                font-weight: bold; 
                color: rgb(153, 170, 187); 
                padding-left: 10px;
                `
                wrapper.textarea = wrapper.appendChild(document.createElement('textarea'));
                wrapper.textarea.style = `
                width: 100%; 
                height: 100%;
                `
                wrapper.textarea.addEventListener('input', function () {
                    wrapper.ava.src = User.admin.photoURL;
                    wrapper.name.innerText = User.admin.name;
                });
                return wrapper;
            })()
            
            User.prototype.write = function (text) {
                this.messageBox.ava.src = this.photoURL;
                this.messageBox.name.innerHTML = this.name;
                this.messageBox.textarea.value = text;
            }
            
            var users = [
                new User("Иван"),
                new User('Alex', "alex@gmail.com"),
                new User('Bob', "bob777@gmail.com"),
                new User('Dima', "dima888@gmail.com"),
                new User('Fima', "fima999@gmail.com")
            ]
            
            var k = 1
            users.forEach(
                function (user) {
                    setTimeout(
                        function () {
                            user.write(`Hello, I'm ${user.name}`)
                        }, 3000 * k++
                    )
                }
            )
        </pre>

        <h2>Урок 11</h2>
        <h3>Задание 1</h3>
        <p>HTML file</p>
        <pre>
            <!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css"></style>
    <title>Document</title>
</head>
<body>
    
   
    <script src="imgs.json"></script>
    <script src="testjs.js"></script>
</body>
</html> -->
        </pre>


        <p>JSON file</p>
        <pre>
            data = '[{"title": "img1", "ref": "https://www.imgonline.com.ua/examples/bee-on-daisy.jpg"}, {"title": "img2", "ref": "https://bipbap.ru/wp-content/uploads/2017/05/0_897e8_65bcd844_orig.jpg"}, {"title": "img3", "ref": "https://millionstatusov.ru/pic/statpic/all8/5e04c21a52a39.jpg"}]';
        </pre>


        <p>JS file</p>
        <pre>
            var jsonImgs = JSON.parse(data);


var picture1 = document.body.appendChild(document.createElement('img'));
picture1.style.width = '250px';
picture1.src = jsonImgs[0].ref;
var par1 = document.body.appendChild(document.createElement('p'));
par1.textContent = jsonImgs[0].title;

var picture2 = document.body.appendChild(document.createElement('img'));
picture2.style.width = '250px';
picture2.src = jsonImgs[1].ref;
var par2 = document.body.appendChild(document.createElement('p'));
par2.textContent = jsonImgs[1].title;

var picture3 = document.body.appendChild(document.createElement('img'));
picture3.style.width = '250px';
picture3.src = jsonImgs[2].ref;
var par3 = document.body.appendChild(document.createElement('p'));
par3.textContent = jsonImgs[2].title;
        </pre>

        <h3>Задание 2</h3>
        <pre>
            var messages = [
    "backspace",
    "enter",
    "shift",
    "control",
    "delete",
    "space",
    "subtract"
];

var log = {};

messages.getKey = () => {
    let key = new Date().toLocaleTimeString(), x = 0
    while ( log [ `${key}[${x}]` ] ) { x++ }
    return `${key}[${x}]`
};

var handler = function (message) {
    Object.defineProperty(log, messages.getKey(), {
        value: message,
        enumerable: true
    })
};

var sendMessage = message => new Promise (
    resolve => setTimeout (
        () => resolve ( message ),
        Math.random () * 7000
    )
);

messages.forEach(
    message => sendMessage(message).then (message => handler(message))
);

console.log(log)
        </pre>
        <h3>Задание 3</h3>
        <pre>
            var messages = [
    "backspace",
    "enter",
    "shift",
    "control",
    "delete",
    "space",
    "subtract"
];

var log = {};

messages.getKey = () => new Date().toLocaleTimeString()

var sendMessage = message => new Promise(
    resolve => setTimeout(
        () => resolve(message),
        Math.random() * 7000
    )
);

var handler = function (message) {
    Object.defineProperty(log, messages.getKey(), {
        value: message,
        enumerable: true,
        writable: true,
        configurable: true
    })
};
var sendAll = () => {
    var index = 0;
    function recursive() {
        var message = messages[index];
        index++;
        if (index < messages.length) {
            sendMessage(message).then(message => handler(message))
            recursive();
        }
    }
    recursive()
}

sendAll()
console.log(log)

        </pre>

        <h2>Урок 12</h2>
        <h3>Задание 1</h3>
        <pre>
            var d = new Date
document.cookie = "lastVizit=" + d
var res = document.cookie
    .split("; ")
    .map(x => {
        var tmp = x.split("=")
        var elem = {}
        elem[tmp[0]] = tmp[1]
        return elem
    })
    
for (var x of res) {
    for (var i in x) {
        if (i === "lastVizit") {
            var par1 = document.body.appendChild(document.createElement('p'));
            par1.innerHTML = "Дата последнего посещенгия: " + x.lastVizit;
        }
    }
}
        </pre>

        <h3>Задание 2</h3>
        <pre>
            location.hash = "#"
var par1 = document.body.appendChild(document.createElement('p'));
var arr = []
window.addEventListener('hashchange', function () {
    var d = new Date().getTime()
    var obj = {
        pageId: location.hash,
        startTime: d
    }
    arr.push(obj)
    localStorage.setItem("history", JSON.stringify(arr))
    console.log("hash was changed")
    console.log(localStorage.history)
    par1.innerHTML = "Страница  " + location.hash;
});
        </pre>
        <h3>Задание 3</h3>
        <pre>
            var btn = null;
function creatBtn() {
    btn = document.body.appendChild(document.createElement('button'));
    btn.innerHTML = 'Push';
    btn.addEventListener('click', start);
};
creatBtn();

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min)) + min;
};


function start() {
    btn.remove();
    var picture1 = document.body.appendChild(document.createElement('img'));
    picture1.src = "https://thumbs.gfycat.com/LivelyObviousAnhinga-size_restricted.gif";
    picture1.style.width = '250px';
    var winner = getRandomInt(1, 20000);

    setTimeout(function () {
        picture1.src = "https://thumbs.gfycat.com/OddWideHookersealion-small.gif";
        setTimeout(function () {
            fetch(`https://api.github.com/user/${winner}`)
                .then((response) => {
                    return response.json();
                })
                .then((data) => {
                    picture1.src = data.avatar_url;
                    var par = document.body.appendChild(document.createElement('p'));
                    par.innerHTML = 'Winner is ' + data.name;
                    
                    setTimeout(function () {
                        picture1.remove();
                        par.remove();
                        creatBtn();
                    }, 10000)
                });
        }, 2000);
    }, 4000);
}

        </pre>
        <h2>Урок 13</h2>
        <h3>Задание 1</h3>
        <pre>
            var picture = document.createElement ( 'img' )
document.body.appendChild ( picture )

fetch ( 'https://st4.depositphotos.com/2760050/38014/i/1600/depositphotos_380144956-stock-photo-man-photographer-do-shooting-session.jpg' )
    .then ( response => {
        response.blob().then ( response => {
    	    urlObject = URL.createObjectURL( response)
            picture.src = urlObject
        })
    })
        </pre>
        <h3>Задание 2</h3>
        <pre>
            var addElem = tagName => document.body.appendChild(
    document.createElement(tagName)
)

var selector = addElem('input')
selector.type = 'file'
selector.multiple = true
selector.id = 'selectImages'
selector.style.display = 'none'

var label = addElem('label')

label.htmlFor = 'selectImages'
label.innerText = 'Select images'

var testFile = file => new Promise(
    function (resolve, reject) {
        if (!file.type.match('image')) {
            var par = document.body.appendChild(document.createElement('p'));
            par.textContent = 'Этот файл не изображение';
        } else {
            resolve (URL.createObjectURL(file))
        }
    }
)

selector.onchange = function (event) {
    for (var file of event.target.files) {
        testFile(file)
            .then(result => addElem("img").src = result)
            .catch(error => console.error(error))
    }
}
        </pre>

        <h2>Урок 14</h2>
        <h3>Задание 1</h3>
        <pre>
            let text = 'hello';
let container = document.body.appendChild(document.createElement("div"));
function printString(text, container) {
    let demo = container && container.nodeType === 1 ?
        container : document.body.appendChild(
            document.createElement("div")
        )

    var index = 0;
    var arr = text.split('');
    async function showText() {
        index++;
        var letter = arr.shift();
        demo.appendChild(
            document.createTextNode(letter)
        );
        if (index === text.length) {
            clearInterval(int)
        };
    };
    var int = setInterval(showText, 1000);
};

printString(text, container);
        </pre>
        <h3>Задание 3</h3>
        <pre>
            let text = 'hello';
let container = document.body.appendChild(document.createElement("div"));
function printString(text, container) {
    let demo = container && container.nodeType === 1 ?
        container : document.body.appendChild(
            document.createElement("div")
        )

    var arr = text.split('');
    
    (function () {
        var letter = arr.shift();
        demo.appendChild(
            document.createTextNode(letter)
        );
        if (arr.length !== 0) {
            setTimeout(arguments.callee, 1000)
        }
    })()
};

printString(text, container);
        </pre>
        </section>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/libs.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>
